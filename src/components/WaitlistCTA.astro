---

---

<section class="bg-dark border-b border-grid">
    <div class="p-8 lg:p-16 max-w-2xl mx-auto">
        <!-- Header -->
        <div class="mb-12">
            <h2 class="font-mono text-xs uppercase text-gray-500 mb-4">
                Early Access
            </h2>
            <h3 class="text-4xl lg:text-5xl font-semibold uppercase mb-[32px] whitespace-nowrap">
                Be first to try tomoro
            </h3>
        </div>

        <!-- Subtitle -->
        <p class="text-base lg:text-lg text-gray-400 mb-12 leading-relaxed">
            Tomoro is a clean, offline workspace for solo professionals who want
            clarity instead of clutter. Join the waitlist to get early builds,
            updates, and a launch discount.
        </p>

        <!-- Email Form -->
        <form id="waitlist-form" method="POST" class="mb-6 flex gap-3">
            <input
                type="email"
                name="email"
                placeholder="your email"
                class="flex-1 bg-dark border border-light text-light px-4 py-3 rounded font-mono text-sm placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-accent"
                required
            />
            <input type="hidden" name="_form" value="tomoro-waitlist" />
            <button
                type="submit"
                class="font-mono font-bold text-sm px-8 py-3 border border-light text-light rounded hover:bg-light hover:text-dark transition-all duration-200 whitespace-nowrap"
            >
                Join Waitlist
            </button>
        </form>

        <!-- Success Message -->
        <div id="success-message" style="display:none" class="text-center mt-6">
            <p class="text-lg text-accent font-semibold mb-2">
                âœ“ You're on the list!
            </p>
            <p class="text-sm text-gray-400">
                Check your email for updates. We'll be in touch soon.
            </p>
        </div>

        <!-- Small disclaimer -->
        <p class="text-xs text-gray-500 text-center">
            No spam. No marketing noise. Just product updates.
        </p>
    </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('waitlist-form') as HTMLFormElement | null;
    const successMessage = document.getElementById('success-message');

    if (form && successMessage) {
      form.addEventListener('submit', async (e) => {
        e.preventDefault();

        const formData = new FormData(form);
        const submitButton = form.querySelector('button[type="submit"]') as HTMLButtonElement | null;
        if (!submitButton) return;

        const originalButtonText = submitButton.textContent;

        // Show loading state
        submitButton.textContent = 'Joining...';
        submitButton.disabled = true;

        try {
          const res = await fetch(window.location.href, {
            method: 'POST',
            body: formData,
          });

          if (res.ok) {
            // Hide form and show success message
            form.style.display = 'none';
            successMessage.style.display = 'block';
          } else {
            // Restore button on error
            submitButton.textContent = originalButtonText;
            submitButton.disabled = false;
            alert('Something went wrong. Please try again.');
          }
        } catch (error) {
          // Restore button on error
          submitButton.textContent = originalButtonText;
          submitButton.disabled = false;
          console.error('Form submission error:', error);
          alert('An error occurred. Please try again.');
        }
      });
    }
  });
</script>
